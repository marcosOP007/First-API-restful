<!DOCTYPE html>
<html lang="en">

<head>
	<title>Editar Canais</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta name="description" content="Portal - Bootstrap 5 Admin Dashboard Template For Developers">
	<meta name="author" content="Xiaoying Riley at 3rd Wave Media">
	<link rel="shortcut icon" href="favicon.ico">

	<!-- FontAwesome JS-->
	<script defer src="/assets/js/app.js"></script>

	<!-- App CSS -->
	<link id="theme-style" rel="stylesheet" href="/assets/css/portal.css">

</head>
<%-include ('nav.ejs')%>

	<div class="app-wrapper">

		<div class="app-content pt-3 p-md-3 p-lg-4">
			<div class="container-xl">

				<div class="row g-3 mb-4 align-items-center justify-content-between">
					<div class="col-auto">
						<h1 class="app-page-title mb-0">Sensores</h1>
					</div>
					<div class="col-auto">
						<div class="page-utilities">
							<div class="row g-2 justify-content-start justify-content-md-end align-items-center">
								<div class="col-auto">
									<!--Search div Orders
										
										<form class="table-search-form row gx-1 align-items-center">
					                    <div class="col-auto">
					                        <input type="text" id="search-orders" name="searchorders" class="form-control search-orders" placeholder="Search">
					                    </div>
					                    <div class="col-auto">
					                        <button type="submit" class="btn app-btn-secondary">Search</button>
					                    </div>
					                </form> -->

								</div><!--//col-->
							</div><!--//row-->
						</div><!--//table-utilities-->
					</div><!--//col-auto-->
				</div><!--//row-->


			


				<div class="tab-content" id="orders-table-tab-content">
					<div class="tab-pane fade show active" id="orders-all" role="tabpanel"
						aria-labelledby="orders-all-tab">
						<div class="app-card app-card-orders-table shadow-sm mb-5">
							<div class="app-card-body">
								<div class="table-responsive">
									<table class="table app-table-hover mb-0 text-left tabela1 table-striped">
										<thead>
											<tr>
												<th class="cell">#</th>
												<th class="cell">Nome Sensor</th>
												<th class="cell">Data de Criação</th>
												<th class="cell">Data de Atualização</th>
												<th class="cell">Correção de Temperatura</th>
												<th class="cell">Localização</th>
												<th class="cell">Status</th>
												<th class="cell">Opções</th>

											</tr>
										</thead>
										<tbody>

											<%for(i=0; i < dadosSensoresADM.length; i++){%>
												<tr>
													<td><%-dadosSensoresADM[i].id%></td>
													<td><%-dadosSensoresADM[i].name%></td>
													<td><%-dadosSensoresADM[i].createdAt%></td>
													<td><%-dadosSensoresADM[i].updatedAt%></td>
													<td>
														<%if(dadosSensoresADM[i].corretion_temperature != false) {%>
															<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
																<path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
															  </svg>
														<%} else{%>
															<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
																<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
															  </svg>
															<%}%>
													</td>
													<td class="mx-3"><%-dadosSensoresADM[i].location%></td>
													<td>
														<%if(dadosSensoresADM[i].status != false) {%>
															<span class="status text-success ">•</span>
														<%} else{%>
															<span class="status text-danger">•</span>
															<%}%>
                                                            <%-dadosSensoresADM[i].status%>
													</td>

													
																	<td>
														<div class="dropdown">
															<div class="dropdown-toggle no-toggle-arrow" data-bs-toggle="dropdown" aria-expanded="false">
																<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-three-dots-vertical" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
															<path fill-rule="evenodd" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
															</svg>
																						</div><!--//dropdown-toggle-->
																						<ul class="dropdown-menu">
																							
																							<li><a class="dropdown-item" href="<%= `/index/sensors/${dadosSensoresADM[i].id}/edit_view?channelId=${channelId}`%>"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
													  <path fill-rule="evenodd" d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
													</svg>Editar</a></li>
													  
																							<li><hr class="dropdown-divider"></li>
																							<li><a class="dropdown-item" href="<%= `/api/sensors/delet/${dadosSensoresADM[i].id}?channelId=${channelId}`%>"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
													  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
													  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
													</svg>Deletar</a></li>
																						</ul>
														</div>

													</td>

												</tr>
													<!--
                                                        <form method="get" action="<%= `/api/sensors/delet/${dadosSensoresADM[i].id}?channelId=${channelId}`%>">

                                                            <td><button class="btn btn-danger mx-3 text-white">Delete</button></td>                                                        

                                                        </form> -->
												</tr>

												<%}%>

										</tbody>
									</table>
									<% if(permission=='MODERATOR') { %>
									<a href="<%- `/index/sensor/create/${channelId}` %>"">
										<button class="btn btn-primary mt-3 mb-2 mx-2 text-white">
											Criar Sensor
										</button>
									</a>
									<%}%>
								</div><!--//table-responsive-->

							</div><!--//app-card-body-->
						</div><!--//app-card-->
						<%if (dadosSensoresADM.length >= 8) {%>
							<nav class="app-pagination">
							<ul class="pagination justify-content-center">
								<li class="page-item disabled">
									<a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
							    </li>
								<li class="page-item active"><a class="page-link" href="#">1</a></li>
								<li class="page-item"><a class="page-link" href="#">2</a></li>
								<li class="page-item"><a class="page-link" href="#">3</a></li>
								<li class="page-item">
								    <a class="page-link" href="#">Next</a>
								</li>
							</ul> 
						</nav>
						<%}%>

					</div><!--//tab-pane-->
				</div><!--//tab-content-->



			</div><!--//container-fluid-->
		</div><!--//app-content-->

		<footer class="app-footer fixed-bottom">
	    <div class="container text-center py-3">
	         <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
        <small class="copyright">Design por  <a class="app-link" href="http://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a></small>
	       
	    </div>
    </footer><!--//app-footer-->

	</div><!--//app-wrapper-->


	<!-- Javascript -->
	<script src="/assets/plugins/popper.min.js"></script>
	<script src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>


	
	<script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>

	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">

	
	<script>
		$(document).ready(function() {
			$('.tabela1').DataTable({
				"language": {
					"lengthMenu": "Mostrando _MENU_ registros por página",
					"zeroRecords": "Nada encontrado",
					"info": "Mostrando página _PAGE_ de _PAGES_",
					"infoEmpty": "Nenhum canal criado",
					"infoFiltered": "(filtrado de _MAX_ registros no total)",
					"search": "Pesquisar:",
					"paginate": {
						"next": " Próximo",
						"previous": "Anterior "
					}
				}
			});
		});

	</script>

	<style>
		.dataTables_filter input {
			border-radius: 5px;
		}
		.dataTables_length select {
			border-radius: 5px;
		}
	</style>



	<!-- Page Specific JS -->
	<script src="/assets/js/app.js"></script>

	</body>

</html>